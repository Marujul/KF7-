<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Belajar kosakata Bahasa Jepang sehari-hari dengan flashcard dan kuis interaktif">
    <title>ã¾ã„ã«ã¡ã®ã›ã„ã‹ã¤ - Kehidupan Sehari-hari</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“˜</text></svg>">
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #fdfaf6;
            color: #333;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #f4b183;
            color: white;
            text-align: center;
            padding: 1.2em 0;
        }
        nav {
            text-align: center;
            margin-top: 20px;
        }
        button {
            background-color: #f4b183;
            border: none;
            color: white;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover {
            background-color: #e38d59;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        section {
            display: none;
            padding: 20px;
            text-align: center;
        }
        table {
            margin: 20px auto;
            border-collapse: collapse;
            width: 85%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            font-size: 1.1em;
        }
        th {
            background-color: #fdebd0;
        }
        .visible {
            display: block;
        }
        #intro {
            text-align: left;
            max-width: 700px;
            margin: 20px auto;
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #fdebd0;
        }
        #intro h2 {
            color: #d2691e;
            border-bottom: 2px solid #f4b183;
            padding-bottom: 10px;
        }
        #intro p {
            font-size: 1.1em;
            line-height: 1.6;
        }

        .flashcard-container {
            perspective: 1000px;
            margin: 20px auto;
            width: 300px;
            height: 180px;
        }
        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        .flashcard.is-flipped {
            transform: rotateY(180deg);
        }
        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            font-size: 1.5em;
        }
        .flashcard-front {
            background-color: #fff3e6;
            color: #d2691e;
            flex-direction: column;
        }
        .flashcard-front .romaji {
            font-size: 0.7em;
            color: #333;
            margin-top: 10px;
        }
        .flashcard-back {
            background-color: #fdebd0;
            color: #333;
            transform: rotateY(180deg);
            font-size: 1.3em;
        }
        .flashcard-nav {
            margin-top: 15px;
        }

        .question {
            text-align: left;
            margin: 15px auto;
            width: 80%;
            background-color: #fff3e6;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #f4b183;
            transition: 0.3s;
        }
        .question p {
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 0;
        }
        .question label {
            display: block;
            margin: 5px 0;
            padding: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        .question label:hover {
            background-color: #fdebd0;
        }
        .question.correct {
            background-color: #e6ffed;
            border-left: 5px solid #4caf50;
        }
        .question.incorrect {
            background-color: #ffebee;
            border-left: 5px solid #f44336;
        }
        .correct-answer {
            font-weight: bold;
            color: #155724;
            background-color: #d4edda;
            padding: 6px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 6px;
        }
        #score {
            font-weight: bold;
            font-size: 1.2em;
            color: #d2691e;
            margin-top: 20px;
        }
        #resetButton {
            display: none;
            background-color: #757575;
        }
        #resetButton:hover {
            background-color: #505050;
        }

        .progress-bar {
            width: 85%;
            height: 10px;
            background-color: #fdebd0;
            border-radius: 5px;
            margin: 10px auto;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: #f4b183;
            transition: width 0.3s ease;
            width: 0;
        }

        .keyboard-shortcuts {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 0.9em;
            display: none;
            z-index: 1000;
        }

        .keyboard-shortcuts.visible {
            display: block;
        }

        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .celebrate {
            animation: celebrate 0.5s ease;
        }

        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #e0e0e0;
            }
            
            .question, #intro {
                background-color: #2d2d2d;
                border-color: #404040;
            }
            
            .flashcard-front {
                background-color: #2d2d2d;
                color: #f4b183;
            }
            
            .flashcard-back {
                background-color: #404040;
                color: #e0e0e0;
            }
            
            th {
                background-color: #404040;
            }
            
            td {
                border-color: #404040;
            }

            .progress-bar {
                background-color: #404040;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ã¾ã„ã«ã¡ã®ã›ã„ã‹ã¤</h1>
        <p>Kehidupan Sehari-hari â€“ Belajar Bahasa Jepang</p>
    </header>

    <nav>
        <button onclick="showSection('intro')">ğŸ  Beranda</button>
        <button onclick="showSection('materi')">ğŸ“˜ Materi</button>
        <button onclick="showSection('flashcard')">ğŸ“‡ Flashcard</button>
        <button onclick="showSection('latihan')">ğŸ“ Latihan Soal</button>
    </nav>

    <section id="intro" class="visible">
        <h2>Selamat Datang! (ã‚ˆã†ã“ãï¼)</h2>
        <p>Halaman ini dirancang untuk membantu Anda mempelajari kosakata bahasa Jepang dasar yang berkaitan dengan "Kehidupan Sehari-hari" (ã¾ã„ã«ã¡ã®ã›ã„ã‹ã¤).</p>
        <p>Anda dapat menggunakan menu di atas untuk:</p>
        <ul>
            <li><strong>ğŸ“˜ Materi:</strong> Melihat daftar lengkap kosakata, romaji, dan artinya.</li>
            <li><strong>ğŸ“‡ Flashcard:</strong> Menguji ingatan Anda dengan kartu bolak-balik.</li>
            <li><strong>ğŸ“ Latihan Soal:</strong> Mengerjakan kuis pilihan ganda untuk mengukur pemahaman Anda.</li>
        </ul>
        <p>Pilih salah satu bagian untuk memulai. ãŒã‚“ã°ã£ã¦ãã ã•ã„ï¼ (Ganbatte kudasai! - Semangat!)</p>
    </section>

    
<section id="materi" class="visible">
  <h2>ğŸ“˜ Materi (å­¦ç¿’å†…å®¹ â€“ GakushÅ« NaiyÅ)</h2>

  <h3>ğŸˆ´ Kosakata (èªå½™ â€“ Goi)</h3>
  <table>
    <thead><tr><th>æ—¥æœ¬èª</th><th>Romaji</th><th>Arti</th></tr></thead>
    <tbody>
      <tr><td>ãŠãã¾ã™</td><td>okimasu</td><td>Bangun tidur</td></tr>
      <tr><td>ã­ã¾ã™</td><td>nemasu</td><td>Tidur</td></tr>
      <tr><td>ãŸã¹ã¾ã™</td><td>tabemasu</td><td>Makan</td></tr>
      <tr><td>ã®ã¿ã¾ã™</td><td>nomimasu</td><td>Minum</td></tr>
      <tr><td>ã„ãã¾ã™</td><td>ikimasu</td><td>Pergi</td></tr>
      <tr><td>ã‹ãˆã‚Šã¾ã™</td><td>kaerimasu</td><td>Pulang</td></tr>
      <tr><td>ã¹ã‚“ãã‚‡ã†ã—ã¾ã™</td><td>benkyou shimasu</td><td>Belajar</td></tr>
      <tr><td>ã‚ãã³ã¾ã™</td><td>asobimasu</td><td>Bermain</td></tr>
      <tr><td>ã¿ã¾ã™</td><td>mimasu</td><td>Melihat / Menonton</td></tr>
      <tr><td>ããã¾ã™</td><td>kikimasu</td><td>Mendengar</td></tr>
      <tr><td>ã‹ãã¾ã™</td><td>kakimasu</td><td>Menulis</td></tr>
      <tr><td>ã‚ˆã¿ã¾ã™</td><td>yomimasu</td><td>Membaca</td></tr>
      <tr><td>ã¯ãŸã‚‰ãã¾ã™</td><td>hatarakimasu</td><td>Bekerja</td></tr>
      <tr><td>ã¨ã‚‚ã ã¡</td><td>tomodachi</td><td>Teman</td></tr>
      <tr><td>ãŒã£ã“ã†</td><td>gakkou</td><td>Sekolah</td></tr>
    </tbody>
  </table>

  <h3>ğŸ§© Pola Kalimat (æ–‡å‹ â€“ Bunkei)</h3>
  <div style="text-align:left;max-width:800px;margin:auto">
    <div style="background:#fff3e6;border-left:5px solid #f4b183;padding:10px;margin-bottom:10px;border-radius:8px">
      <strong>â‘  ï½ã‚’ã—ã¾ã™</strong><br>
      <em>ã—ã‚…ãã ã„ã‚’ã—ã¾ã™ã€‚</em> â€“ Mengerjakan PR.<br>
      ğŸ”¹ <strong>Penjelasan:</strong> partikelã€Œã‚’ã€menandai objek langsung dari kata kerja.
    </div>
    <div style="background:#fff3e6;border-left:5px solid #f4b183;padding:10px;margin-bottom:10px;border-radius:8px">
      <strong>â‘¡ ï½ã¸ã„ãã¾ã™</strong><br>
      <em>ãŒã£ã“ã†ã¸ã„ãã¾ã™ã€‚</em> â€“ Pergi ke sekolah.<br>
      ğŸ”¹ <strong>Penjelasan:</strong> partikelã€Œã¸ã€menunjukkan arah atau tujuan.
    </div>
    <div style="background:#fff3e6;border-left:5px solid #f4b183;padding:10px;margin-bottom:10px;border-radius:8px">
      <strong>â‘¢ ï½ã¨ã‚ãã³ã¾ã™</strong><br>
      <em>ã¨ã‚‚ã ã¡ã¨ã‚ãã³ã¾ã™ã€‚</em> â€“ Bermain dengan teman.<br>
      ğŸ”¹ <strong>Penjelasan:</strong> partikelã€Œã¨ã€berarti â€œdengan (orang)â€.
    </div>
    <div style="background:#fff3e6;border-left:5px solid #f4b183;padding:10px;margin-bottom:10px;border-radius:8px">
      <strong>â‘£ ï½ã§ãŸã¹ã¾ã™</strong><br>
      <em>ã†ã¡ã§ãŸã¹ã¾ã™ã€‚</em> â€“ Makan di rumah.<br>
      ğŸ”¹ <strong>Penjelasan:</strong> partikelã€Œã§ã€menunjukkan tempat terjadinya kegiatan.
    </div>
    <div style="background:#fff3e6;border-left:5px solid #f4b183;padding:10px;margin-bottom:10px;border-radius:8px">
      <strong>â‘¤ ï½ã«ã­ã¾ã™</strong><br>
      <em>ï¼‘ï¼ã˜ã«ã­ã¾ã™ã€‚</em> â€“ Tidur pada jam 10.<br>
      ğŸ”¹ <strong>Penjelasan:</strong> partikelã€Œã«ã€menunjukkan waktu atau arah.
    </div>
  </div>

  <h3>ğŸ’¬ Contoh Kalimat (ä¾‹æ–‡ â€“ Reibun)</h3>
  <ul style="text-align:left;max-width:700px;margin:auto;line-height:1.8">
    <li>ã¾ã„ã«ã¡ã€€ï¼–ã˜ã«ã€€ãŠãã¾ã™ã€‚<br><em>(Setiap hari saya bangun jam 6.)</em></li>
    <li>ã‚ã•ã”ã¯ã‚“ã‚’ã€€ãŸã¹ã¾ã™ã€‚<br><em>(Saya makan pagi.)</em></li>
    <li>ãŒã£ã“ã†ã¸ã€€ã„ãã¾ã™ã€‚<br><em>(Saya pergi ke sekolah.)</em></li>
    <li>ï¼“ã˜ã«ã€€ã¨ã‚‚ã ã¡ã¨ã€€ã‚ãã³ã¾ã™ã€‚<br><em>(Saya bermain dengan teman jam 3.)</em></li>
    <li>ï¼‘ï¼ã˜ã«ã€€ã­ã¾ã™ã€‚<br><em>(Saya tidur jam 10.)</em></li>
  </ul>

  <h3>ğŸ—£ï¸ Percakapan Pendek (ä¼šè©± â€“ Kaiwa)</h3>
  <div style="text-align:left;max-width:700px;margin:auto;line-height:1.8;background:#fff3e6;padding:12px;border-radius:8px;border-left:5px solid #f4b183">
    <strong>A:</strong> ã¾ã„ã«ã¡ã€€ãªã‚“ã˜ã«ã€€ãŠãã¾ã™ã‹ã€‚<br>
    <strong>B:</strong> ï¼–ã˜ã«ã€€ãŠãã¾ã™ã€‚<br>
    <strong>A:</strong> ãŒã£ã“ã†ã¸ã€€ã„ãã¾ã™ã‹ã€‚<br>
    <strong>B:</strong> ã¯ã„ã€ï¼—ã˜ã«ã€€ã„ãã¾ã™ã€‚<br>
    <em>(A: Setiap hari kamu bangun jam berapa?<br>
    B: Bangun jam 6.<br>
    A: Apakah kamu pergi ke sekolah?<br>
    B: Ya, berangkat jam 7.)</em>
  </div>
</section>


    <section id="flashcard">
        <h2>ğŸ“‡ Flashcard</h2>
        <p>Klik kartu untuk membalik, gunakan tombol atau â† â†’ untuk navigasi</p>
        
        <div class="flashcard-container">
            <!-- Inline onclick provides a robust fallback for click/touch when JS initialization timing is off -->
            <div class="flashcard" id="flashcard" onclick="this.classList.toggle('is-flipped')" role="button" tabindex="0" aria-pressed="false">
                <div class="flashcard-face flashcard-front">
                    <span id="flashcard-jp"></span>
                    <span id="flashcard-romaji" class="romaji"></span>
                </div>
                <div class="flashcard-face flashcard-back">
                    <span id="flashcard-arti"></span>
                </div>
            </div>
        </div>
        
        <div class="flashcard-nav">
            <button onclick="prevCard()">â† Sebelumnya</button>
            <button onclick="nextCard()">Berikutnya â†’</button>
        </div>
        <p id="card-counter"></p>
    </section>

    <section id="latihan">
        <h2>ğŸ§  Latihan Soal Pilihan Ganda</h2>
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>

        <form id="quizForm">
            <div class="question" data-id="1">
                <p>1. ãŠãã¾ã™</p>
                <label><input type="radio" name="q1" value="a"> a. Tidur</label><br>
                <label><input type="radio" name="q1" value="b"> b. Bangun tidur</label><br>
                <label><input type="radio" name="q1" value="c"> c. Belajar</label>
            </div>

            <div class="question" data-id="2">
                <p>2. ã¯ã‚’ã¿ãŒãã¾ã™</p>
                <label><input type="radio" name="q2" value="a"> a. Menggosok gigi</label><br>
                <label><input type="radio" name="q2" value="b"> b. Makan pagi</label><br>
                <label><input type="radio" name="q2" value="c"> c. Pergi ke sekolah</label>
            </div>

            <div class="question" data-id="3">
                <p>3. ã¹ã‚“ãã‚‡ã†ã—ã¾ã™</p>
                <label><input type="radio" name="q3" value="a"> a. Belajar</label><br>
                <label><input type="radio" name="q3" value="b"> b. Tidur</label><br>
                <label><input type="radio" name="q3" value="c"> c. Mandi</label>
            </div>

            <div class="question" data-id="4">
                <p>4. ãŒã£ã“ã†ã¸ã„ãã¾ã™</p>
                <label><input type="radio" name="q4" value="a"> a. Pergi ke sekolah</label><br>
                <label><input type="radio" name="q4" value="b"> b. Belajar</label><br>
                <label><input type="radio" name="q4" value="c"> c. Makan malam</label>
            </div>

            <div class="question" data-id="5">
                <p>5. ãŠãµã‚ã«ã¯ã„ã‚Šã¾ã™</p>
                <label><input type="radio" name="q5" value="a"> a. Mandi</label><br>
                <label><input type="radio" name="q5" value="b"> b. Makan</label><br>
                <label><input type="radio" name="q5" value="c"> c. Menonton TV</label>
            </div>

            <div class="question" data-id="6">
                <p>6. ã­ã¾ã™</p>
                <label><input type="radio" name="q6" value="a"> a. Tidur</label><br>
                <label><input type="radio" name="q6" value="b"> b. Bangun tidur</label><br>
                <label><input type="radio" name="q6" value="c"> c. Belajar</label>
            </div>

            <div class="question" data-id="7">
                <p>7. ã‹ãŠã‚’ã‚ã‚‰ã„ã¾ã™</p>
                <label><input type="radio" name="q7" value="a"> a. Mencuci muka</label><br>
                <label><input type="radio" name="q7" value="b"> b. Menggosok gigi</label><br>
                <label><input type="radio" name="q7" value="c"> c. Makan siang</label>
            </div>

            <div class="question" data-id="8">
                <p>8. ãƒ†ãƒ¬ãƒ“ã‚’ã¿ã¾ã™</p>
                <label><input type="radio" name="q8" value="a"> a. Menonton TV</label><br>
                <label><input type="radio" name="q8" value="b"> b. Membaca buku</label><br>
                <label><input type="radio" name="q8" value="c"> c. Pergi ke sekolah</label>
            </div>

            <div class="question" data-id="9">
                <p>9. ã²ã‚‹ã”ã¯ã‚“ã‚’ãŸã¹ã¾ã™</p>
                <label><input type="radio" name="q9" value="a"> a. Makan pagi</label><br>
                <label><input type="radio" name="q9" value="b"> b. Makan siang</label><br>
                <label><input type="radio" name="q9" value="c"> c. Makan malam</label>
            </div>

            <div class="question" data-id="10">
                <p>10. ã¨ã‚‚ã ã¡ã¨ã‚ãã³ã¾ã™</p>
                <label><input type="radio" name="q10" value="a"> a. Bermain dengan teman</label><br>
                <label><input type="radio" name="q10" value="b"> b. Belajar</label><br>
                <label><input type="radio" name="q10" value="c"> c. Pergi tidur</label>
            </div>

            <button type="button" onclick="checkAnswers()" id="submitButton">Lihat Nilai</button>
            <button type="button" onclick="resetQuiz()" id="resetButton">Coba Lagi</button>
        </form>

        <div id="score" aria-live="polite"></div>
    </section>

    <div class="keyboard-shortcuts">
        Keyboard: â† â†’ (navigasi) | Space (balik kartu) | 1-4 (menu)
    </div>

    <script>
        // --- Data Kosakata ---
        const vocabulary = [
            { jp: "ãŠãã¾ã™", romaji: "okimasu", arti: "Bangun tidur" },
            { jp: "ã¯ã‚’ã¿ãŒãã¾ã™", romaji: "ha o migakimasu", arti: "Menggosok gigi" },
            { jp: "ã‹ãŠã‚’ã‚ã‚‰ã„ã¾ã™", romaji: "kao o araimasu", arti: "Mencuci muka" },
            { jp: "ã‚ã•ã”ã¯ã‚“ã‚’ãŸã¹ã¾ã™", romaji: "asagohan o tabemasu", arti: "Makan pagi" },
            { jp: "ãŒã£ã“ã†ã¸ã„ãã¾ã™", romaji: "gakkÅ e ikimasu", arti: "Pergi ke sekolah" },
            { jp: "ã¹ã‚“ãã‚‡ã†ã—ã¾ã™", romaji: "benkyÅ shimasu", arti: "Belajar" },
            { jp: "ã²ã‚‹ã”ã¯ã‚“ã‚’ãŸã¹ã¾ã™", romaji: "hirugohan o tabemasu", arti: "Makan siang" },
            { jp: "ã¨ã‚‚ã ã¡ã¨ã‚ãã³ã¾ã™", romaji: "tomodachi to asobimasu", arti: "Bermain dengan teman" },
            { jp: "ã°ã‚“ã”ã¯ã‚“ã‚’ãŸã¹ã¾ã™", romaji: "bangohan o tabemasu", arti: "Makan malam" },
            { jp: "ãŠãµã‚ã«ã¯ã„ã‚Šã¾ã™", romaji: "ofuro ni hairimasu", arti: "Mandi" },
            { jp: "ãƒ†ãƒ¬ãƒ“ã‚’ã¿ã¾ã™", romaji: "terebi o mimasu", arti: "Menonton TV" },
            { jp: "ã­ã¾ã™", romaji: "nemasu", arti: "Tidur" }
        ];

        // --- Fungsi Navigasi ---
        function showSection(id) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('visible');
            });
            document.getElementById(id).classList.add('visible');
            
            if (id === 'latihan') {
                updateProgressBar();
            }
        }

        // --- Fungsi Flashcard ---
        let currentCardIndex = 0;
        const flashcard = document.getElementById('flashcard');

        function showFlashcard(index) {
            const card = vocabulary[index];
            document.getElementById('flashcard-jp').textContent = card.jp;
            document.getElementById('flashcard-romaji').textContent = card.romaji;
            document.getElementById('flashcard-arti').textContent = card.arti;
            document.getElementById('card-counter').textContent = `${index + 1} / ${vocabulary.length}`;
            flashcard.classList.remove('is-flipped');
        }

        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % vocabulary.length;
            showFlashcard(currentCardIndex);
        }

        function prevCard() {
            currentCardIndex = (currentCardIndex - 1 + vocabulary.length) % vocabulary.length;
            showFlashcard(currentCardIndex);
        }

        // --- Fungsi Materi ---
        function populateMateriTable() {
            const tableBody = document.getElementById('materi-body');
            vocabulary.forEach(item => {
                const row = `<tr>
                    <td>${item.jp}</td>
                    <td>${item.romaji}</td>
                    <td>${item.arti}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }

        // --- Fungsi Quiz ---
        const correctAnswers = {
            q1: "b", q2: "a", q3: "a", q4: "a", q5: "a",
            q6: "a", q7: "a", q8: "a", q9: "b", q10: "a"
        };

        function updateProgressBar() {
            const total = document.querySelectorAll('.question').length;
            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            const progressFill = document.querySelector('.progress-fill');
            progressFill.style.width = `${(answered / total) * 100}%`;
        }

        function checkAnswers() {
            resetStyles();
            let score = 0;
            
            document.querySelectorAll('.question').forEach(questionDiv => {
                const id = questionDiv.getAttribute('data-id');
                const qName = `q${id}`;
                const selected = document.querySelector(`input[name="${qName}"]:checked`);
                
                if (selected) {
                    if (selected.value === correctAnswers[qName]) {
                        score++;
                        questionDiv.classList.add('correct');
                        questionDiv.classList.add('celebrate');
                        setTimeout(() => questionDiv.classList.remove('celebrate'), 500);
                    } else {
                        questionDiv.classList.add('incorrect');
                        const correctLabel = document.querySelector(`input[name="${qName}"][value="${correctAnswers[qName]}"]`).parentElement;
                        correctLabel.classList.add('correct-answer');
                    }
                } else {
                    questionDiv.classList.add('incorrect');
                    const correctLabel = document.querySelector(`input[name="${qName}"][value="${correctAnswers[qName]}"]`).parentElement;
                    correctLabel.classList.add('correct-answer');
                }
            });

            let feedback = '';
            if (score === 10) {
                feedback = 'ã™ã”ã„ï¼(Sugoi!) Sempurna! ğŸ‰';
            } else if (score >= 8) {
                feedback = 'ã¨ã¦ã‚‚ã„ã„ã§ã™ã­ï¼(Totemo ii desu ne!) Sangat bagus! ğŸŒŸ';
            } else if (score >= 5) {
                feedback = 'ãŒã‚“ã°ã£ã¦ï¼(Ganbatte!) Ayo semangat, coba lagi! ğŸ’ª';
            } else {
                feedback = 'ã‚‚ã†ã„ã¡ã©ï¼(Mou ichido!) Mari coba sekali lagi! ğŸ“š';
            }

            document.getElementById("score").innerHTML = `Nilai kamu: ${score}/10<br>${feedback}`;
            
            document.getElementById('submitButton').disabled = true;
            document.querySelectorAll('#quizForm input[type="radio"]').forEach(radio => {
                radio.disabled = true;
            });
            
            document.getElementById('resetButton').style.display = 'inline-block';
        }

        function resetStyles() {
            document.querySelectorAll('.question').forEach(questionDiv => {
                questionDiv.classList.remove('correct', 'incorrect', 'celebrate');
            });
            
            document.querySelectorAll('.correct-answer').forEach(label => {
                label.classList.remove('correct-answer');
            });
        }

        function resetQuiz() {
            resetStyles();
            document.getElementById('quizForm').reset();
            document.getElementById("score").innerHTML = "";
            document.getElementById('submitButton').disabled = false;
            document.querySelectorAll('#quizForm input[type="radio"]').forEach(radio => {
                radio.disabled = false;
            });
            document.getElementById('resetButton').style.display = 'none';
            updateProgressBar();
        }

        // --- Keyboard Navigation ---
        document.addEventListener('keydown', (e) => {
            const currentSection = document.querySelector('section.visible').id;
            
            if (currentSection === 'flashcard') {
                switch(e.key) {
                    case 'ArrowLeft':
                        prevCard();
                        break;
                    case 'ArrowRight':
                        nextCard();
                        break;
                            case ' ':
                                if (flashcard) flashcard.classList.toggle('is-flipped');
                                e.preventDefault();
                                break;
                }
            }
            
            // Number keys for navigation
            if (['1', '2', '3', '4'].includes(e.key)) {
                const sections = ['intro', 'materi', 'flashcard', 'latihan'];
                showSection(sections[parseInt(e.key) - 1]);
            }

            // Show/hide keyboard shortcuts
            if (e.key === '?') {
                document.querySelector('.keyboard-shortcuts').classList.toggle('visible');
            }
        });

        // --- Quiz Progress Tracking ---
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', updateProgressBar);
        });

        // --- Initialize Page ---
        document.addEventListener('DOMContentLoaded', () => {
            // Populate content
            populateMateriTable();

            // Initialize flashcard element and attach handlers (robust for DOM timing)
            flashcard = document.getElementById('flashcard');
            if (flashcard) {
                // clicking/touch handled inline via onclick attribute as a robust fallback
                // also attach keyboard handler when the flashcard has focus
                flashcard.addEventListener('keydown', (ev) => {
                    if (ev.key === 'Enter' || ev.key === ' ') {
                        ev.preventDefault();
                        flashcard.classList.toggle('is-flipped');
                    }
                });
            }

            // Flip button for accessibility / touch devices
            const flipBtn = document.getElementById('flipButton');
            if (flipBtn) {
                flipBtn.addEventListener('click', () => {
                    if (flashcard) flashcard.classList.toggle('is-flipped');
                });
            }

            // Show the first card after handlers are set
            showFlashcard(currentCardIndex);

            // Show keyboard shortcuts briefly
            setTimeout(() => {
                document.querySelector('.keyboard-shortcuts').classList.add('visible');
                setTimeout(() => {
                    document.querySelector('.keyboard-shortcuts').classList.remove('visible');
                }, 5000);
            }, 1000);
        });
    </script>
</body>
</html>